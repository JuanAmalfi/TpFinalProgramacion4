<div class="libros-layout">

  <!-- Overlay cuando el sidebar estÃ¡ abierto -->
  @if (filtrosAbiertos) {
    <div class="overlay" (click)="toggleFiltros()"></div>
  }

  <!-- BotÃ³n flotante -->
  <button class="filter-toggle" (click)="toggleFiltros()">ðŸ§© Filtros</button>

  <!-- SIDEBAR LATERAL -->
  <aside class="sidebar" [class.open]="filtrosAbiertos">
    <div class="sidebar-header">
      <h3>Filtros</h3>
      <button class="close-btn" (click)="toggleFiltros()">âœ–</button>
    </div>

    <div class="filtro">
      <label>Autor</label>
      <input type="text" placeholder="Buscar autor...">
    </div>

    <div class="filtro">
      <label>GÃ©nero</label>
      <select>
        <option value="">Todos</option>
        <option>FicciÃ³n</option>
        <option>No FicciÃ³n</option>
        <option>Ciencia FicciÃ³n</option>
        <option>FantasÃ­a</option>
        <option>Misterio</option>
        <option>Romance</option>
      </select>
    </div>

    <div class="filtro">
      <label>AÃ±o</label>
      <input type="number" placeholder="Ej: 2021">
    </div>

    <div class="filtro">
      <label>Precio</label>
      <div class="precio-range">
        <input type="number" placeholder="MÃ­n">
        <span>â€”</span>
        <input type="number" placeholder="MÃ¡x">
      </div>
    </div>

    <div class="filtro checkbox-filtro">
      <label><input type="checkbox"> Solo disponibles</label>
    </div>

    <div class="sidebar-buttons">
      <button class="btn-search">Buscar</button>
      <button class="btn-clear" (click)="limpiarFiltros()">Limpiar</button>
    </div>
  </aside>

  <!-- LISTADO PRINCIPAL -->
  <section class="books" [class.shift]="filtrosAbiertos">
    <h2>ðŸ“š Libros disponibles</h2>

    <div class="grid-libros">
      @for (libro of libros(); track libro.id) {
        <div class="card-libro" (click)="verDetalle(libro.id!)">
          <img [src]="libro.portada || 'assets/placeholder.png'" class="portada">
          <h4>{{ libro.titulo }}</h4>
          <p class="autor">{{ libro.autor }}</p>
          <p class="precio">$ {{ libro.precio }}</p>
        </div>
      }
    </div>
  </section>

</div>
