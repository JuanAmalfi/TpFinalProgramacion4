<div class="libros-layout">

  <!-- CABECERA DEL LISTADO -->
  <div class="lista-header">
    <h2>Libros disponibles</h2>

    <button class="filters-btn" (click)="toggleFiltros()">
      üß© Filtros
    </button>
  </div>

  <!-- GRILLA DE LIBROS -->
  <div class="grid-libros">
    @for (libro of libros(); track libro.id) {
      <div class="card-libro" (click)="verDetalle(libro.id!)">
        <img
          [src]="libro.portada || 'assets/placeholder.png'"
          alt="{{ libro.titulo }}"
          class="portada"
        />
        <h4>{{ libro.titulo }}</h4>
        <p class="autor">{{ libro.autor }}</p>
        <p class="precio">$ {{ libro.precio }}</p>
      </div>
    }
  </div>

  <!-- ========== MODAL DE FILTROS ========== -->
  @if (filtrosAbiertos) {
    <div class="filters-backdrop" (click)="toggleFiltros()">
      <div class="filters-modal" (click)="$event.stopPropagation()">

        <div class="modal-header">
          <h3>Filtros</h3>
          <button class="close-modal" (click)="toggleFiltros()">‚úñ</button>
        </div>

        <div class="filtro">
          <label>Autor</label>
          <input type="text" placeholder="Buscar autor..." />
        </div>

        <div class="filtro">
          <label>G√©nero</label>
          <select>
            <option value="">Todos</option>
            <option>Ficci√≥n</option>
            <option>No Ficci√≥n</option>
            <option>Ciencia Ficci√≥n</option>
            <option>Fantas√≠a</option>
            <option>Misterio</option>
            <option>Romance</option>
          </select>
        </div>

        <div class="filtro">
          <label>A√±o</label>
          <input type="number" placeholder="Ej: 2021" />
        </div>

        <div class="filtro">
          <label>Precio</label>
          <div class="precio-range">
            <input type="number" placeholder="M√≠n" />
            <span>‚Äî</span>
            <input type="number" placeholder="M√°x" />
          </div>
        </div>

        <div class="filtro checkbox-filtro">
          <label><input type="checkbox" /> Solo disponibles</label>
        </div>

        <div class="modal-actions">
          <button class="btn-clear" (click)="limpiarFiltros()">Limpiar</button>
          <button class="btn-apply" (click)="toggleFiltros()">Aplicar</button>
        </div>

      </div>
    </div>
  }

</div>
